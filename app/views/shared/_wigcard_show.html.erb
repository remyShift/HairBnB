
<h1>Wig Details</h1>

<h2 class="text-2xl font-bold text-gray-800 mt-12"><%= @wig.name %></h2>

<div class="flex justify-center gap-12">
  <div class="flex flex-col gap-12 bg-white-800 border rounded-lg p-4 shadow-lg shadow-black-500/50 md:w-1/2">
    <div class="flex justify-center items-center bg-white-800">
      <%= cl_image_tag @wig.wig_image.key, class: "object-contain rounded-lg h-96 w-96 bg-transparent shadow-lg shadow-black-500/50" %>
    </div>

    <div class="flex flex-col">
      <div class="flex flex-wrap gap-2">
        <p><span class="font-bold">Material : </span><%= @wig.material  %>,</p>
        <p><span class="font-bold">Hair style: </span><%=@wig.hair_style %>, </p>
        <p><span class="font-bold">Price: </span><%= number_to_currency(@wig.price) %>. </p>
      </div>
      <div class="flex gap-2">
        <p><span class="font-bold">Address: </span><%= @wig.address %>, </p>
        <p><span class="font-bold">Color: </span><%= @wig.color %>, </p>
      </div>
      <div class="flex items-end gap-2 my-4">
        <%= cl_image_tag @wig.user.profile_image.key, class: "rounded-full h-14 w-14 border-2 border-primary" %>
        <p class="italic">Posted by <%= @wig.user.first_name %> <%= @wig.user.last_name %></p>
      </div>
    </div>
  </div>

  <div class="bg-grey-500 rounded-lg px-2 pt-4 border shadow-lg shadow-black-500/50 w-1/4 flex flex-col gap-4 justify-center items-center">
    <h2 class="text-2xl font-bold text-gray-800 text-center"> <%= number_to_currency(@wig.price) %>/day</h2>

    <%= form_with model: @booking, url: bookings_path do |f| %>
  <div class="flex flex-col items-center justify-between w-full">
    <p>From</p>
    <%= f.datetime_local_field :start_time, placeholder: "Today !", class: "w-[90%]", data: { controller: "datepicker", datepicker_target: "opening_date" } %>
  </div>

  <div class="flex flex-col items-center justify-between w-full">
    <p>To</p>
    <%= f.datetime_local_field :end_time, placeholder: "When you want", class: "w-[90%]", data: { controller: "datepicker", datepicker_target: "closing_date" } %>
  </div>

  <%= f.hidden_field :user_id, value: current_user.id %> <!-- Assurez-vous que l'ID de l'utilisateur est bien envoyÃ© -->

  <button class="btn" type="submit">Book it now !</button>
<% end %>
  </div>
</div>
